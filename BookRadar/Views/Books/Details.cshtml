@model BookRadar.Web.Models.BookVm

@{
    ViewData["Title"] = $"Detalles - {Model.Titulo}";
}

<div class="container mt-4">
    <div class="row">
        <div class="col-md-4">
            <div class="book-cover-container">
                @if (!string.IsNullOrWhiteSpace(Model.CoverUrl))
                {
                    <img src="@Model.CoverUrl" alt="Portada de @Model.Titulo" class="book-cover-large" 
                         onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
                }
                <div class="book-cover-placeholder-large" style="@(string.IsNullOrWhiteSpace(Model.CoverUrl) ? "" : "display: none;")">
                    <i class="fas fa-book"></i>
                </div>
            </div>
            
            @if (!string.IsNullOrWhiteSpace(Model.OpenLibraryUrl))
            {
                <div class="text-center mt-3">
                    <a href="@Model.OpenLibraryUrl" target="_blank" class="btn btn-primary btn-lg">
                        <i class="fas fa-external-link-alt me-2"></i>
                        Ver en Open Library
                    </a>
                </div>
            }
        </div>
        
        <div class="col-md-8">
            <div class="book-details">
                <h1 class="book-title-large">@Model.Titulo</h1>
                
                @if (!string.IsNullOrWhiteSpace(Model.Autor))
                {
                    <div class="book-author">
                        <i class="fas fa-user me-2"></i>
                        <span class="author-name">@Model.Autor</span>
                    </div>
                }
                
                @if (!string.IsNullOrWhiteSpace(Model.Descripcion))
                {
                    <div class="book-description mt-3">
                        <h5>Descripción</h5>
                        <p>@Model.Descripcion</p>
                    </div>
                }
                
                <div class="book-metadata mt-4">
                    <div class="row">
                        @if (Model.AnioPublicacion.HasValue)
                        {
                            <div class="col-md-6 mb-3">
                                <div class="metadata-item">
                                    <i class="fas fa-calendar-alt me-2"></i>
                                    <strong>Año de publicación:</strong>
                                    <span>@Model.AnioPublicacion</span>
                                </div>
                            </div>
                        }
                        
                        @if (!string.IsNullOrWhiteSpace(Model.Editorial))
                        {
                            <div class="col-md-6 mb-3">
                                <div class="metadata-item">
                                    <i class="fas fa-building me-2"></i>
                                    <strong>Editorial:</strong>
                                    <span>@Model.Editorial</span>
                                </div>
                            </div>
                        }
                        
                        @if (!string.IsNullOrWhiteSpace(Model.Idioma))
                        {
                            <div class="col-md-6 mb-3">
                                <div class="metadata-item">
                                    <i class="fas fa-language me-2"></i>
                                    <strong>Idioma:</strong>
                                    <span>@Model.Idioma</span>
                                </div>
                            </div>
                        }
                        
                        @if (!string.IsNullOrWhiteSpace(Model.Formato))
                        {
                            <div class="col-md-6 mb-3">
                                <div class="metadata-item">
                                    <i class="fas fa-file-alt me-2"></i>
                                    <strong>Formato:</strong>
                                    <span>@Model.Formato</span>
                                </div>
                            </div>
                        }
                        
                        @if (Model.NumeroPaginas.HasValue)
                        {
                            <div class="col-md-6 mb-3">
                                <div class="metadata-item">
                                    <i class="fas fa-file me-2"></i>
                                    <strong>Páginas:</strong>
                                    <span>@Model.NumeroPaginas</span>
                                </div>
                            </div>
                        }
                        
                        @if (!string.IsNullOrWhiteSpace(Model.ISBN))
                        {
                            <div class="col-md-6 mb-3">
                                <div class="metadata-item">
                                    <i class="fas fa-barcode me-2"></i>
                                    <strong>ISBN:</strong>
                                    <span>@Model.ISBN</span>
                                </div>
                            </div>
                        }
                    </div>
                </div>
                
                @if (Model.Generos.Any())
                {
                    <div class="book-genres mt-4">
                        <h5>Características</h5>
                        <div class="genres-container">
                            @foreach (var genero in Model.Generos)
                            {
                                <span class="genre-badge-large">
                                    <i class="fas fa-tag me-1"></i>
                                    @genero
                                </span>
                            }
                        </div>
                    </div>
                }
                
                <div class="book-actions mt-4">
                    <button class="btn btn-outline-primary me-2">
                        <i class="fas fa-heart me-1"></i>
                        Agregar a Favoritos
                    </button>
                    <button class="btn btn-outline-secondary me-2">
                        <i class="fas fa-share me-1"></i>
                        Compartir
                    </button>
                    <button class="btn btn-outline-info">
                        <i class="fas fa-download me-1"></i>
                        Descargar
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-5">
        <div class="col-12">
            <div class="back-to-search">
                <a href="@Url.Action("Index", "Books")" class="btn btn-outline-dark">
                    <i class="fas fa-arrow-left me-2"></i>
                    Volver a la Búsqueda
                </a>
            </div>
        </div>
    </div>
</div>
